#include <stdio.h>
#include <stdlib.h>
#include <math.h>
#include "pico/stdlib.h"
#include "hardware/pio.h"
#include "hardware/clocks.h"
#include "hardware/adc.h"
#include "pico/bootrom.h"
#include "pio_matrix.pio.h"

#define PIN_RGB 11
#define PIN_WS2812 7
#define PIN_BUTTON_A 5
#define PIN_BUTTON_B 6

const float frames[10][5][5] = {
    {
        {0.0, 1.0, 1.0, 1.0, 0.0},
        {0.0, 1.0, 0.0, 1.0, 0.0},
        {0.0, 1.0, 0.0, 1.0, 0.0}, // 0
        {0.0, 1.0, 0.0, 1.0, 0.0},
        {0.0, 1.0, 1.0, 1.0, 0.0}
    },
    {
        {0.0, 0.0, 1.0, 0.0, 0.0},
        {0.0, 1.0, 1.0, 0.0, 0.0},
        {0.0, 0.0, 1.0, 0.0, 0.0}, // 1
        {0.0, 0.0, 1.0, 0.0, 0.0},
        {0.0, 1.0, 1.0, 1.0, 0.0}
    },
    {
        {0.0, 1.0, 1.0, 1.0, 0.0},
        {0.0, 0.0, 0.0, 1.0, 0.0},
        {0.0, 1.0, 1.0, 1.0, 0.0}, // 2
        {0.0, 1.0, 0.0, 0.0, 0.0},
        {0.0, 1.0, 1.0, 1.0, 0.0}
    },
    {
        {0.0, 1.0, 1.0, 1.0, 0.0},
        {0.0, 0.0, 0.0, 1.0, 0.0},
        {0.0, 0.0, 1.0, 1.0, 0.0}, // 3
        {0.0, 0.0, 0.0, 1.0, 0.0},
        {0.0, 1.0, 1.0, 1.0, 0.0}
    },
    {
        {0.0, 1.0, 0.0, 1.0, 0.0},
        {0.0, 1.0, 0.0, 1.0, 0.0},
        {0.0, 1.0, 1.0, 1.0, 0.0}, // 4
        {0.0, 0.0, 0.0, 1.0, 0.0},
        {0.0, 0.0, 0.0, 1.0, 0.0}
    },
    {
        {0.0, 1.0, 0.0, 1.0, 0.0},
        {0.0, 1.0, 0.0, 1.0, 0.0},
        {0.0, 1.0, 1.0, 1.0, 0.0}, // 5
        {0.0, 0.0, 0.0, 1.0, 0.0},
        {0.0, 0.0, 0.0, 1.0, 0.0}
    },
    {
        {0.0, 1.0, 1.0, 1.0, 0.0},
        {0.0, 1.0, 0.0, 0.0, 0.0},
        {0.0, 1.0, 1.0, 1.0, 0.0}, // 6
        {0.0, 1.0, 0.0, 1.0, 0.0},
        {0.0, 1.0, 1.0, 1.0, 0.0}
    },
    {
        {0.0, 1.0, 1.0, 1.0, 0.0},
        {0.0, 0.0, 0.0, 1.0, 0.0},
        {0.0, 0.0, 0.0, 1.0, 0.0}, // 7
        {0.0, 0.0, 1.0, 0.0, 0.0},
        {0.0, 1.0, 0.0, 0.0, 0.0}
    },
    {
        {0.0, 1.0, 1.0, 1.0, 0.0},
        {0.0, 1.0, 0.0, 1.0, 0.0},
        {0.0, 0.0, 1.0, 0.0, 0.0}, // 8
        {0.0, 1.0, 0.0, 1.0, 0.0},
        {0.0, 1.0, 1.0, 1.0, 0.0}
    },
    {
        {0.0, 1.0, 1.0, 1.0, 0.0},
        {0.0, 1.0, 0.0, 1.0, 0.0},
        {0.0, 1.0, 1.0, 1.0, 0.0}, // 9
        {0.0, 0.0, 0.0, 1.0, 0.0},
        {0.0, 0.0, 0.0, 1.0, 0.0}
    }
};

void init_pins();

int main()
{
    stdio_init_all();
    init_pins();

    while (true) {
        printf("Hello, world!\n");
        sleep_ms(1000);
    }
}


void init_pins() {
    // iniciando botoes
    gpio_init(PIN_BUTTON_A);
    gpio_set_dir(PIN_BUTTON_A, GPIO_OUT);
    gpio_pull_up(PIN_BUTTON_A);

    gpio_init(PIN_BUTTON_B);
    gpio_set_dir(PIN_BUTTON_B, GPIO_OUT);
    gpio_pull_up(PIN_BUTTON_B);

    // iniciando leds
    gpio_init(PIN_RGB);
    gpio_set_dir(PIN_RGB, GPIO_OUT);

    gpio_init(PIN_WS2812);
    gpio_set_dir(PIN_WS2812, GPIO_OUT);
}


